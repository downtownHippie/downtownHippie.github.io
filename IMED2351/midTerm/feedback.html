<!DOCTYPE html>
<html>
	<head>
		<title>The Home Page</title>
		<meta charset="utf-8"/>
		<meta name="robots" content="noindex,nofollow"/>
		<meta name="description" content="the home page for the home"/>
		<link rel="stylesheet" type="text/css" href="external/jquery-ui.css">
		<link rel="stylesheet" type="text/css" href="site.css"/>
		<link rel="icon" type="image/x-icon" href="favicon.ico"/>
		<link rel="import" id="navMenuHTML" href="navMenu.html"/>
	</head>
	<body>
		<div id="wrapper">
			<header>
				<h1>The Feedback Page</h1>
				<h4>Leave us a note and tell us how you feel</h4>
			</header>
			<nav>
			</nav>
			<aside>
			</aside>
			<article>
				<div id="formContent">
					<form id="hippieForm">

						<p>
							<label class="formLabel">Name:</label>
							<input class="formValidate" type="text" name="name" id="name" placeholder="Name">
							<span id="nameErrorText" class="formErrorText"></span>
						</p>

						<p>
							<label class="formLabel">Email:</label>
							<input class="formValidate" type="text" name="email" id="email" placeholder="Email">
							<span id="emailErrorText" class="formErrorText"></span>
						</p>

						<p>
							<label class="formLabel">Phone:</label>
							<input class="formValidate" type="text" name="phone" id="phone" placeholder="(###)###-####">
							<span id="phoneErrorText" class="formErrorText"></span>
						</p>

						<p>
							<label class="formLabel">User Type</label>
							<select class="formSelect" name="userType" id="userType">
								<option value="0">Select One</option>
								<option value="1">Member</option>
								<option value="2">Non-Member</option>
							</select>
							<span id="userTypeErrorText" class="formErrorText"></span>
						</p>

						<p>
							<label class="formLabel">Event</label><span id="eventErrorText" class="formErrorText"></span></br>
							<input class="formRadio" type="radio" name="event" value="Intro to the Home Page and Pie">Intro to The Home Page</br>
							<input class="formRadio" type="radio" name="event" value="Intro to HTML">Intro to HTML</br>
							<input class="formRadio" type="radio" name="event" value="Intro to CSS">Intro to CSS</br>
							<input class="formRadio" type="radio" name="event" value="Intro to JavaScript and jQuery on pie">Intro to JavaScript and jQuery on pie</br>
						</p>

						<p>
							<label class="formLabel">Event Date</label><span id="eventDateErrorText" class="formErrorText"></span></br>
							<input class="formDate" id="eventDate" type="text" placeholder="Event Date">
						</p>

						<p>
							<label class="formLabel">Materials</label><span id="materialsErrorTet" class="formatErrorText"></span></br>
							<input class="materialsCBGroup" type="checkbox" id="materialsNone" name="materials" value="...you should bring appropriate materials to class...">None</br>
							<input class="materialsCBGroup" type="checkbox" id="materialsHTML" name="materials" value="An HTML Book">HTML Materials</br>
							<input class="materialsCBGroup" type="checkbox" id="materialsCSS" name="materials" value="A CSS Book">CSS Materials</br>
						</p>

						<p>
							<label class="formLabel">Meal Type</label>
							<select class="formSelect" name="mealType" id="mealType">
								<option value="0">None</option>
								<option value="1">Gluten Full and wonderful</option>
								<option value="2">Gluten Free and boring</option>
							</select>
							<span id="mealTypeErrorText" class="formErrorText"></span>
						</p>

						<p>
							<input class="formInput" type="button" value="Continue" id="submitButton">
						</p>

					</form>

				</div>
				<div id="formResults">
					<p> <label class="formLabel">Name:</label><span id="returnedName"></span> </p>

					<p> <label class="formLabel">Email:</label><span id="returnedEmail"></span> </p>

					<p> <label class="formLabel">Phone:</label><span id="returnedPhone"></span> </p>

					<p> <label class="formLabel">User Type:</label><span id="returnedUserType"></span> </p>

					<p> <label class="formLabel">Event:</label><span id="returnedEvent"></span> </p>

					<p> <label class="formLabel">Date:</label><span id="returnedDate"></span> </p>

					<p> <label class="formLabel">Materials Selected:</label><span id="returnedMaterials"></span> </p>

					<p> <label class="formLabel">Meal Selected:</label><span id="returnedMeal"></span> </p>

				</div>
			</article>
			<div id="push"></div>
		</div> <!-- wrapper -->
		<footer>
			<hr/>
			<p class="pRight">&#169; 2014 - <span id="currYearForCopyright">2014</span> <a href="mailto:someone@some.where">Joe Reid</a> IMED1316 and IMED2351</p>
		</footer>
		<script src="external/jquery.js"></script>
		<script src="external/jquery-ui.js"></script>
		<script src="js/navMenu.js"></script>
		<script src="js/hippie.cc.js"></script>
		<script>
			$("#eventDate").datepicker();
			$(document).ready(function() {
					$("#formResults").hide();

					$("#submitButton").click(function() {
						var valid = true;

						$(".formErrorText").each(function() {
							$(this).text("");
						});

						if ($("#name").val() == "") {
						$("#nameErrorText").text("Please enter your name").effect("shake", {direction: "right", distance: 5, times: 2}, 1000);
								valid = false;
						}
						if ($("#email").val() == "") {
								$("#emailErrorText").text("Please enter your email").effect("shake", {direction: "right", distance: 5, times: 2}, 1000);
								valid = false;
						}
						if ($("#phone").val() == "") {
								$("#phoneErrorText").text("Please enter your phone number").effect("shake", {direction: "right", distance: 5, times: 2}, 1000);
								valid = false;
						}
						if ($("#eventDate").val() == "") {
								$("#eventDateErrorText").text("Please select a date").effect("shake", {direction: "right", distance: 5, times: 2}, 1000);
								valid = false;
						}
						if ($("#userType").val() == "0") {
								$("#userTypeErrorText").text("Please select a user type").effect("shake", {direction: "right", distance: 5, times: 2}, 1000);
								valid = false;
						}

						var materials = [];
						$("[name='materials']:checked").each(function() {
								materials.push($(this).val());
							});

						if (valid) {
							$("#returnedName").text($("#name").val());
							$("#returnedEmail").text($("#email").val());
							$("#returnedPhone").text($("#phone").val());
							$("#returnedUserType").text($("#userType :selected").text());
							$("#returnedEvent").text($("[name='event']:checked").val());
							$("#returnedDate").text($("#eventDate").val());
							$("#returnedMaterials").html("</br>" + materials.join("</br>"));
							$("#returnedMeal").text($("#mealType option:selected").text());
							$("#formContent").hide("slide", {direction: "up"}, 500, function() {
									$("#formResults").show("slide", {direction: "up"}, 500);
									});
						}
						return valid;
					});
				});

			var matsCheckBoxGroup = document.getElementsByClassName('materialsCBGroup')
			for (var i = 0; i < matsCheckBoxGroup.length; i++) {
				if (matsCheckBoxGroup[i].id != 'materialsNone') {
					matsCheckBoxGroup[i].onchange = function () {
						if (this.checked) {
							document.getElementById('materialsNone').checked = false;
						}
					};
				}
				else {
					matsCheckBoxGroup[i].onchange = function() {
						if (this.checked) {
							var cbs = document.getElementsByClassName('materialsCBGroup');
							for (var i = 0; i < cbs.length; i++) {
								if (cbs[i].id != 'materialsNone') {
									cbs[i].checked = false;
								}
							}
						}
					};
				}
			}
		</script>
	</body>
</html>
